[{"title":"draft1","content":"","isPage":false,"isDraft":true,"permalink":"http://example.com/2025/06/25/draft1/"},{"title":"机器学习算法01--聚类","content":"<p>主要收集介绍一些常用的基础聚类算法及python实现。</p>\n<span id=\"more\"></span>\n<p>本文将要介绍的内容如下图所示：</p>\n<p><img src=\"https://pic1.imgdb.cn/item/6865116558cb8da5c8897567.jpg\" class=\"lazyload\" data-srcset=\"https://pic1.imgdb.cn/item/6865116558cb8da5c8897567.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"思维导图 of this article\"></p>\n<h1 id=\"聚类-Clustering\"><a href=\"#聚类-Clustering\" class=\"headerlink\" title=\"聚类(Clustering)\"></a>聚类(Clustering)</h1><h2 id=\"概念与发展\"><a href=\"#概念与发展\" class=\"headerlink\" title=\"概念与发展\"></a>概念与发展</h2><h3 id=\"何为聚类？\"><a href=\"#何为聚类？\" class=\"headerlink\" title=\"何为聚类？\"></a>何为聚类？</h3><p>从类别的角度来说，聚类属于无监督学习任务中的一种，目的是将无标记的数据集中的样本划分为若干个不相交的子集(一般境况下)。</p>\n<p>举个例子：你刚搬到一个新城市，发现路边有个无人看守的水果摊，各种水果混在一起像座小山。不负责任的摊主只留下一句话：”按种类摆好，价格牌在桌上”。于是乎，你决定根据水果的”颜色”和”大小”来分类：发现很多红彤彤、拳头大小的球体聚在一起（苹果）；一堆黄色弯月形的物体明显自成一群（香蕉）；某些紫色小圆球总是紧挨着出现（葡萄）。不依赖任何标签，纯粹根据相似性自主划分为几个不同簇的的任务便是<strong>聚类</strong>。</p>\n<h3 id=\"如何评判聚类任务的好坏？\"><a href=\"#如何评判聚类任务的好坏？\" class=\"headerlink\" title=\"如何评判聚类任务的好坏？\"></a>如何评判聚类任务的好坏？</h3><p>聚类看似简单，那我如何可以在没有监督的条件之下进行模型算法的性能估计呢？</p>\n<p>当然，评估一个模型不可能只依靠內源的数据集，基于内部考察 (internal index) 和基于外部“参考模型” (extrenal index) 的两类聚类性能度量 (validity index) 中均有使用。</p>\n<p>常使用的<strong>外部指标</strong>是：</p>\n<ol>\n<li><strong>Jaccard系数</strong></li>\n</ol>\n<p>$J = \\frac{|A \\cap B|}{|A \\cup B|}$</p>\n<p>衡量聚类结果与参考模型的交并比，值域[0,1]，越接近1相似性越高</p>\n<ol>\n<li><strong>FM指数</strong></li>\n</ol>\n<p>$FM = \\sqrt{\\frac{TP}{TP+FP} \\cdot\\frac{TP}{TP+FN}}$</p>\n<p>通过精确率和召回率的几何平均评估一致性，TP为真阳性样本对</p>\n<p>3.<strong>Rand指数</strong></p>\n<p>$Rand = \\frac{TP + TN}{TP + TN + FP + FN}$</p>\n<p>计算正确分类样本对比例，考虑所有样本对的匹配程度</p>\n<p>常使用的<strong>内部指标</strong>是：</p>\n<ol>\n<li><strong>DB指数 (DBI)</strong></li>\n</ol>\n<p>$DBI = \\frac{1}{k} \\sum<em>{i=1}^k \\max</em>{j\\neq i} \\left( \\frac{s_i + s_j}{d(c_i,c_j)} \\right)$</p>\n<p>簇内平均距离s越小且簇中心距离d越大时指标越优。</p>\n<ol>\n<li><strong>Dunn指数</strong></li>\n</ol>\n<p>$Dunn = \\min_{i&lt;j} \\left( \\frac{d(i,j)}{\\max_l diam(l)} \\right)$</p>\n<p>簇间最小距离与最大簇内直径的比值，值越大表示簇间分离度越好。</p>\n<h3 id=\"”距离“这个概念如何在聚类中玩出花的？\"><a href=\"#”距离“这个概念如何在聚类中玩出花的？\" class=\"headerlink\" title=\"”距离“这个概念如何在聚类中玩出花的？\"></a>”距离“这个概念如何在聚类中玩出花的？</h3><h5 id=\"公理化定义（需满足4个条件）\"><a href=\"#公理化定义（需满足4个条件）\" class=\"headerlink\" title=\"公理化定义（需满足4个条件）\"></a>公理化定义（需满足4个条件）</h5><p>首先给出幼儿园老师就告诉我们的距离的要求：</p>\n<ol>\n<li><p>非负性：$d(x,y) \\geq 0$</p>\n</li>\n<li><p>同一性：$d(x,y)=0\\iff x=y$</p>\n</li>\n<li><p>对称性：$d(x,y)=d(y,x)$</p>\n</li>\n<li><p>三角不等式：$d(x,z) \\leq d(x,y)+d(y,z)$</p>\n</li>\n</ol>\n<h5 id=\"常见距离度量\"><a href=\"#常见距离度量\" class=\"headerlink\" title=\"常见距离度量\"></a>常见距离度量</h5><p>对于n维空间的点$x=(x_1,x_2,…,x_n)$和$y=(y_1,y_2,…,y_n)$，常用的距离度量有：</p>\n<p>-<strong>Minkowski距离</strong>，闵可夫斯基距离的核心在于它提供了一种在多维空间中测量两点间距离的方法。它的特别之处在于，通过一个参数p，可以适应不同的问题空间和数据特征。通常定义如下：</p>\n<p>$d(x,y) = (\\sum_{i=1}^n |x_i - y_i|^p)^{1/p}$</p>\n<p>-当 $p=1$时为<strong>曼哈顿距离</strong>，曼哈顿距离是标量空间中两点间各维度差的绝对值之和。在二维空间中，曼哈顿距离可以理解为从一个点到另一个点只能沿着水平或垂直方向行走的最小距离。通常用定义如下：</p>\n<p>$d(x,y) = \\sum_{i=1}^n |x_i - y_i|$</p>\n<p>-当 $p=2$时为<strong>欧氏距离</strong>，欧氏距离是标量空间中两点间各维度差的平方之和的平方根。在二维空间中，欧氏距离可以理解为从一个点到另一个点的直线距离。通常定义如下：</p>\n<p>$d(x,y) = \\sqrt{\\sum_{i=1}^n (x_i - y_i)^2}$</p>\n<p>-当 $p=\\infty$时为<strong>切比雪夫距离</strong>，二个点之间的距离定义是其各坐标数值差绝对值的最大值。<br>通常定义如下：</p>\n<p>$d(x,y) = \\max_{i=1\\dots n} |x_i - y_i|$</p>\n<h1 id=\"基于原型的聚类\"><a href=\"#基于原型的聚类\" class=\"headerlink\" title=\"基于原型的聚类\"></a>基于原型的聚类</h1><h2 id=\"K-means\"><a href=\"#K-means\" class=\"headerlink\" title=\"K-means\"></a>K-means</h2><h2 id=\"K-means-1\"><a href=\"#K-means-1\" class=\"headerlink\" title=\"K-means++\"></a>K-means++</h2><h2 id=\"bi-means\"><a href=\"#bi-means\" class=\"headerlink\" title=\"bi-means\"></a>bi-means</h2><h2 id=\"K-medoids\"><a href=\"#K-medoids\" class=\"headerlink\" title=\"K-medoids\"></a>K-medoids</h2><h2 id=\"LVQ\"><a href=\"#LVQ\" class=\"headerlink\" title=\"LVQ\"></a>LVQ</h2><h2 id=\"GMM（高斯混合模型）\"><a href=\"#GMM（高斯混合模型）\" class=\"headerlink\" title=\"GMM（高斯混合模型）\"></a>GMM（高斯混合模型）</h2><h1 id=\"基于密度的聚类\"><a href=\"#基于密度的聚类\" class=\"headerlink\" title=\"基于密度的聚类\"></a>基于密度的聚类</h1><h2 id=\"DNSCAN\"><a href=\"#DNSCAN\" class=\"headerlink\" title=\"DNSCAN\"></a>DNSCAN</h2><h2 id=\"HBSCAN\"><a href=\"#HBSCAN\" class=\"headerlink\" title=\"HBSCAN\"></a>HBSCAN</h2><h2 id=\"OPTICS\"><a href=\"#OPTICS\" class=\"headerlink\" title=\"OPTICS\"></a>OPTICS</h2><h1 id=\"基于层次的聚类\"><a href=\"#基于层次的聚类\" class=\"headerlink\" title=\"基于层次的聚类\"></a>基于层次的聚类</h1><h2 id=\"自上而下法\"><a href=\"#自上而下法\" class=\"headerlink\" title=\"自上而下法\"></a>自上而下法</h2><h2 id=\"自下而上法\"><a href=\"#自下而上法\" class=\"headerlink\" title=\"自下而上法\"></a>自下而上法</h2><h3 id=\"基于图的聚类\"><a href=\"#基于图的聚类\" class=\"headerlink\" title=\"基于图的聚类\"></a>基于图的聚类</h3><h3 id=\"基于GCN的聚类\"><a href=\"#基于GCN的聚类\" class=\"headerlink\" title=\"基于GCN的聚类\"></a>基于GCN的聚类</h3>","isPage":false,"isDraft":false,"permalink":"http://example.com/2025/08/24/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AE%97%E6%B3%9501-%E8%81%9A%E7%B1%BB/"},{"title":"Hello World","content":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo new <span class=\"string\">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo server</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo generate</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ hexo deploy</span><br></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/one-command-deployment.html\">Deployment</a></p>\n","isPage":false,"isDraft":false,"permalink":"http://example.com/2025/06/25/hello-world/"},{"title":"正则表达式01--表达式语法","content":"<p>正则表达式可以允许我们对于文本进行十分精细的处理，但首先我们需要明确其语法与使用方式。在日常使用时，可以结合<a href=\"https://regexr.com\">https://regexr.com</a>食用！网站提供了即时的正则表达式可视化，真是再好不过了！🎇🎇🎇</p>\n<span id=\"more\"></span>\n<h1 id=\"字符与语法\"><a href=\"#字符与语法\" class=\"headerlink\" title=\"字符与语法\"></a>字符与语法</h1><h2 id=\"元字符\"><a href=\"#元字符\" class=\"headerlink\" title=\"元字符\"></a>元字符</h2><p>   <strong>. ^ $ * + ? { } [ ] \\ | ( )</strong>在进行正则表达式的构建中可以精细控制所需字符：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>字符</th>\n<th>指代</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>[ ]</code></td>\n<td>指定一个字符类(希望匹配的字符的一个集合),这些字符可以单独地列出,也可以用字符范围来表示(用 ‘-‘ 分隔)</td>\n</tr>\n<tr>\n<td><code>( )</code></td>\n<td>将范围内的字符整体选中</td>\n</tr>\n<tr>\n<td><code>^</code></td>\n<td>匹配输入字符串的开始位置，除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示反义字符集合</td>\n</tr>\n<tr>\n<td><code>$</code></td>\n<td>匹配输入字符串的结尾位置，如果设置Multiline属性，则 $ 也匹配 ‘\\n’ 或 ‘\\r’(段落结尾)</td>\n</tr>\n<tr>\n<td>&#124;</td>\n<td>指明两项之间的一个选择</td>\n</tr>\n<tr>\n<td><code>+</code></td>\n<td>匹配前面的子表达式1次或n次</td>\n</tr>\n<tr>\n<td><code>*</code></td>\n<td>匹配前面的子表达式0次或n次</td>\n</tr>\n<tr>\n<td><code>?</code></td>\n<td>匹配前面的子表达式1次或1次</td>\n</tr>\n<tr>\n<td><code>.</code></td>\n<td>匹配除换行符 \\n 之外的任何单字符</td>\n</tr>\n<tr>\n<td><code>\\</code></td>\n<td>转义字符,下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符</td>\n</tr>\n<tr>\n<td><code>&#123; &#125;</code></td>\n<td>限定符表达式的开始和结束，用于划分范围</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>在正则表达式中，通常使用 <strong>\\d、\\D、\\s、\\S、\\w、\\W、\\b、\\B</strong> 指代各类字符，属于特殊字符类如下表所示：<br>| 字符      | 指代 |<br>| —————- | —————- |<br>|  <code>\\d</code>  | 匹配任何十进制数字，等价于字符类 [0-9]    |<br>| <code>\\D</code>   | 匹配任何非数字字符，等价于字符类 <sup><a href=\"#fn_0-9\" id=\"reffn_0-9\">0-9</a></sup>    |<br>|  <code>\\s</code>  | 匹配任何空白字符，等价于字符类 [ \\t\\n\\r\\f\\v]    |<br>| <code>\\S</code>   | 匹配任何非空白字符，等价于字符类 [ ^\\t\\n\\r\\f\\v] |<br>|  <code>\\w</code>  | 匹配任何字母与数字字符，等价于字符类 [a-zA-Z0-9<em>]  |<br>| <code>\\W</code>   | 匹配任何非字母与数字字符，等价于字符类 [^a-zA-Z0-9</em>]   |<br>| <code>\\b</code>   | 匹配一个单词的开始或结束的位置，而不匹配任何实际的字符  |<br>| <code>\\B</code>  | 即匹配不在单词边界处的位置   |</p>\n<p>对于 <strong>\\b and \\B</strong> (边界匹配元字符)的理解需要阐明的是:<br>\\b (单词边界)匹配以下三种情况之一：</p>\n<p>单词的开头：如果 \\b 出现在一个字母或数字之前，或者在字符串的开头，它会匹配一个单词的开始位置。<br>单词的结尾：如果 \\b 出现在一个字母或数字之后，或者在字符串的末尾，它会匹配一个单词的结束位置。<br>单词的内部：如果 \\b 出现在两个连续的字母或数字之间，它不会匹配任何内容，因为没有单词边界。</p>\n<p>例如：正则表达式 \\bword\\b 匹配整个单词 “word”，但不匹配 “words” 或 “sword”。<br>正则表达式 \\b\\d+\\b 匹配一个完整的数字，例如 “123”，但不匹配 “abc123”。<br>正则表达式 \\b[A-Z]+\\b 匹配一个完整的大写字母单词，例如 “HELLO”，但不匹配 “hello”。</p>\n<p>\\B (非单词边界)匹配以下情况之一：</p>\n<p>单词的内部：如果 \\B 出现在两个连续的字母或数字之间，它会匹配这两个字符之间的位置，表示它们不是单词的边界。<br>非单词的开头或结尾：如果 \\B 出现在一个字母或数字之前或之后，它会匹配这个位置，表示它不是单词的开头或结尾。<br>以下是一些元字符 \\B 的实例：</p>\n<p>例如：正则表达式 \\Bword\\B 匹配 “sword1” 中的 “word”，但不匹配 “password” 或 “words”。<br>正则表达式 \\B\\d+\\B 匹配 “abc123def” 中的 “123”，但不匹配 “123” 或 “abc123”。<br>正则表达式 \\B[A-Z]+\\B 匹配 “HELLO WORLD” 中的 “ELL” 和 “ORL”，但不匹配 “HELLO” 或 “WORLD”。</p>\n<h2 id=\"修饰符\"><a href=\"#修饰符\" class=\"headerlink\" title=\"修饰符\"></a>修饰符</h2><p>修饰符（也叫“标志位、flag”）是放在正则表达式之外的小开关，用来告诉引擎“该怎么匹配”。<br>在<code>re·</code>模块中：</p>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>全称</th>\n<th>简写</th>\n<th>作用</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>re.IGNORECASE</code></td>\n<td><code>re.I</code></td>\n<td>模糊大小写，<code>A</code> 也能匹配 <code>a</code></td>\n</tr>\n<tr>\n<td><code>re.MULTILINE</code></td>\n<td><code>re.M</code></td>\n<td>让 <code>^</code> 和 <code>$</code> 匹配<strong>每一行</strong>的开头和结尾，而不是整段字符串的首尾(多行模式)</td>\n</tr>\n<tr>\n<td><code>re.DOTALL</code></td>\n<td><code>re.S</code></td>\n<td>让 <code>.</code> 也能匹配换行符 <code>\\n</code>（默认 <code>.</code> 遇到 <code>\\n</code> 就停）</td>\n</tr>\n<tr>\n<td><code>re.VERBOSE</code></td>\n<td><code>re.X</code></td>\n<td>允许在正则里写<strong>注释</strong>和<strong>空白</strong>，可读性大增</td>\n</tr>\n<tr>\n<td><code>re.UNICODE</code></td>\n<td><code>re.U</code></td>\n<td>让 <code>\\w \\b \\s</code> 等按 Unicode 规则（Python3 默认开启）</td>\n</tr>\n<tr>\n<td><code>re.ASCII</code></td>\n<td><code>re.A</code></td>\n<td>与 <code>re.U</code> 相反，强制按 ASCII 解释 <code>\\w \\b \\s</code> 等</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><em>可以同时开两个修饰</em>（re.I | re.S）</p>\n<h2 id=\"位置匹配-zero-width-assertions\"><a href=\"#位置匹配-zero-width-assertions\" class=\"headerlink\" title=\"位置匹配(zero-width assertions)\"></a>位置匹配(zero-width assertions)</h2><ol>\n<li>在‘多行模式(multline)’中，使用 <strong>^ $</strong>分别匹配行首和行尾</li>\n<li>使用 <strong>\\b</strong> 匹配单词边界; <strong>\\B</strong>匹配非单词边界</li>\n<li>前瞻 &amp; 后顾</li>\n</ol>\n<p>行锚（Anchor）——只和“行首/行尾/单词边界”打交道<br>| 符号 | 含义 | 例子 |<br>|—-|—-|—-|<br>| <code>^</code> | 字符串开头（re.M 打开后表示每一行的开头） | ^Hello |<br>| <code>$</code> | 字符串结尾（re.M 打开后表示每一行的结尾） | world$ |<br>| <code>\\b</code> | 单词边界（\\w 与 \\W 之间的零宽位置） | \\bcat\\b |</p>\n<p>前瞻后顾（Lookaround）<br>| 语法 | 含义 | 例子 |<br>|—-|—-|—-|<br>| <code>(?=...)</code> | 正向先行断言：右边必须出现 … | Windows(?=10|11) 只匹配后面是 10 或 11 的 “Windows” |<br>| <code>(?!...)</code> | 负向先行断言：右边不能出现 … | \\d{3}(?!px) 匹配三位数字但后面不能跟 px |<br>| <code>(?&lt;=...)</code> | 正向后发断言：左边必须出现 … | (?&lt;=USD)\\d+ 匹配 “USD123” 中的 123 |<br>| <code>(?&lt;!...)</code> | 负向后发断言：左边不能出现 … | (?&lt;![a-zA-Z])\\d+ 匹配前面不是字母的数字 |</p>\n<h2 id=\"分组与引用\"><a href=\"#分组与引用\" class=\"headerlink\" title=\"分组与引用\"></a>分组与引用</h2><p><strong>分组</strong> 就是给一段表达式打括号做标记 :</p>\n<ol>\n<li>普通捕获组 <code>()</code> ()的内容即为捕获的对象，其编号从 1 开始，按左括号顺序递增。<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">re.search(<span class=\"string\">r&#x27;(\\d&#123;4&#125;)-(\\d&#123;2&#125;)-(\\d&#123;2&#125;)&#x27;</span>,  <span class=\"string\">&#x27;2025-08-25&#x27;</span>).groups()</span><br><span class=\"line\"><span class=\"comment\"># (&#x27;2025&#x27;, &#x27;08&#x27;, &#x27;25&#x27;)对应组 1,2,3</span></span><br></pre></td></tr></table></figure></li>\n<li>命名捕获组 <code>(?P&lt;name&gt;...)</code> 使用名字命名更清晰。<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">m = re.search(<span class=\"string\">r&#x27;(?P&lt;year&gt;\\d&#123;4&#125;)-(?P&lt;month&gt;\\d&#123;2&#125;)&#x27;</span>, <span class=\"string\">&#x27;2025-08&#x27;</span>)</span><br><span class=\"line\">m.group(<span class=\"string\">&#x27;year&#x27;</span>)   <span class=\"comment\"># &#x27;2025&#x27;</span></span><br></pre></td></tr></table></figure></li>\n<li>非捕获组 <code>(?:...)</code> 只分组不编号，不占用内存，用于性能或避免干扰编号。</li>\n</ol>\n<p><strong>引用</strong> 则是把标记过的内容拿来复用 :</p>\n<p>反向引用（同一条正则里复用）可以使用编号形式 <strong>(\\1 \\2 …)</strong> 或者命名形式如 <strong>(?P=name)</strong></p>\n<p>  *使用 <code>group()</code> 可以调取分组内容</p>\n<h1 id=\"使用方式\"><a href=\"#使用方式\" class=\"headerlink\" title=\"使用方式\"></a>使用方式</h1><h2 id=\"python使用函数一览\"><a href=\"#python使用函数一览\" class=\"headerlink\" title=\"python使用函数一览\"></a>python使用函数一览</h2><p>在python的<code>re</code>模块中常用函数有<code>re.match()</code>、<code>re.search()</code>、<code>re.fullmatch()</code>、<code>re.sub()</code>、<code>re.split()</code>、<code>re.split()</code>、<code>re.complie()</code>、<code>re.escape()</code>、<code>re.subn()</code>，可以将函数分为 <strong>“查找、替换、分割、编译”</strong>。</p>\n<h3 id=\"查找\"><a href=\"#查找\" class=\"headerlink\" title=\"查找\"></a>查找</h3><p><code>re.match()</code>、<code>re.search()</code>、<code>re.findall()</code>、<code>re.finditer()</code>函数中，其中<strong>pattern代表匹配模式、string代表需查找的字符串、flags代表限定字符</strong>：<br>|函数名|使用方法|<br>|—|——|<br>|<code>re.match(pattern,string,flags)</code>|从字符串开头开始匹配|<br>|<code>re.search(pattern,string,flags)</code>|扫描整个字符串，找到第一处即停|<br>|<code>re.findall(pattern,string,flags)</code>|以列表(list)的形式返回目标字符串中所有匹配对象|<br>|<code>re.finditer(pattern,string,flags)</code>|搜索所有匹配对象，返回迭代类型|</p>\n<p><strong>举例</strong>：编写程序实现下述功能，提示用户输入用户名，要求用户名以字母开头，长度不少于3位，只能包含字母、数字、下划线，如果用户输入符合要求，则提示注册成功，否则提示用户名不符合要求，请重新输入，一直循环直到用户名符合要求为止。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\">admin = <span class=\"built_in\">input</span>(<span class=\"string\">&quot;请输入用户名(用户名以字母开头，长度不少于3位，只能包含字母、数字、下划线)：&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">match</span> = re.search(<span class=\"string\">r&quot;[a-zA-Z][\\w_]&#123;2,&#125;&quot;</span>,admin,re.M)</span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"keyword\">match</span> <span class=\"keyword\">is</span> <span class=\"literal\">None</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;用户名不符合要求！&quot;</span>)</span><br><span class=\"line\">    admin = <span class=\"built_in\">input</span>(<span class=\"string\">&quot;请再次输入用户名！：&quot;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">f&quot;用户创建成功！请核对账号名称<span class=\"subst\">&#123;admin&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>\n<h3 id=\"替换\"><a href=\"#替换\" class=\"headerlink\" title=\"替换\"></a>替换</h3><p><code>re.sub()</code>、<code>re.subn()</code>中，<strong>repl代表替换匹配字符串的字符串、count代表替换的最大次数(默认为全部替换)</strong><br>| 函数名                                               | 使用方法            |<br>| ————————————————————————— | ———————— |<br>| <code>re.sub(pattern, repl, string, count=0, flags=0)</code>  | 替换所有匹配的对象       |<br>| <code>re.subn(pattern, repl, string, count=0, flags=0)</code> | 同上，但额外返回替换次数 |</p>\n<h3 id=\"分割\"><a href=\"#分割\" class=\"headerlink\" title=\"分割\"></a>分割</h3><p><code>re.split()</code>中。<strong>maxsplit代表最大切分次数</strong><br>| 函数名                                             | 使用方法        |<br>| ———————————————————————— | —————— |<br>| <code>re.split(pattern, string, maxsplit=0, flags=0)</code> | 按正则<strong>切分</strong>字符串 |</p>\n<h3 id=\"编译-amp-转义\"><a href=\"#编译-amp-转义\" class=\"headerlink\" title=\"编译 &amp; 转义\"></a>编译 &amp; 转义</h3><p>不常用的几类函数；<br>| 函数原型                           | 使用方法                         |<br>| ——————————————— | ——————————————- |<br>| <code>re.compile(pattern, flags=0)</code> | 把正则<strong>预编译</strong>成 Pattern 对象，后面可反复用 |<br>| <code>re.escape(string)</code>            | 把字符串里所有正则元字符<strong>转义</strong>，安全拼正则      |<br>| <code>re.purge()</code>                   | 清空正则缓存（几乎用不到）                 |</p>\n<h2 id=\"实战举例\"><a href=\"#实战举例\" class=\"headerlink\" title=\"实战举例\"></a>实战举例</h2><p>网页数据后处理，将豆瓣的评分数据处理成 CSV 文件。<br>网页爬虫：豆瓣电影Top250爬虫<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> requests</span><br><span class=\"line\"><span class=\"keyword\">from</span> bs4 <span class=\"keyword\">import</span> BeautifulSoup</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"><span class=\"keyword\">import</span> random</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">scrape_douban_top250</span>(<span class=\"params\">output_file</span>):</span><br><span class=\"line\">    session = requests.Session()</span><br><span class=\"line\">    headers = &#123;</span><br><span class=\"line\">        <span class=\"string\">&#x27;User-Agent&#x27;</span>: <span class=\"string\">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36&#x27;</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    base_url = <span class=\"string\">&quot;https://movie.douban.com/top250&quot;</span></span><br><span class=\"line\">    all_content = []</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> start <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">0</span>, <span class=\"number\">250</span>, <span class=\"number\">25</span>):</span><br><span class=\"line\">        url = <span class=\"string\">f&quot;<span class=\"subst\">&#123;base_url&#125;</span>?start=<span class=\"subst\">&#123;start&#125;</span>&quot;</span></span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;正在抓取: <span class=\"subst\">&#123;url&#125;</span>&quot;</span>)</span><br><span class=\"line\">        time.sleep(random.uniform(<span class=\"number\">1</span>, <span class=\"number\">3</span>))  <span class=\"comment\"># 避免请求过快被封</span></span><br><span class=\"line\">        </span><br><span class=\"line\">        response = session.get(url, headers=headers)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> response.status_code == <span class=\"number\">200</span>:</span><br><span class=\"line\">            soup = BeautifulSoup(response.text, <span class=\"string\">&#x27;html.parser&#x27;</span>)</span><br><span class=\"line\">            movies = soup.find_all(<span class=\"string\">&#x27;div&#x27;</span>, class_=<span class=\"string\">&#x27;item&#x27;</span>)</span><br><span class=\"line\">            <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> movies:</span><br><span class=\"line\">                <span class=\"built_in\">print</span>(<span class=\"string\">&quot;⚠️ 没有找到电影数据，请检查网页结构是否变化！&quot;</span>)</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"keyword\">for</span> movie <span class=\"keyword\">in</span> movies:</span><br><span class=\"line\">                title = movie.find(<span class=\"string\">&#x27;span&#x27;</span>, class_=<span class=\"string\">&#x27;title&#x27;</span>)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> title:  <span class=\"comment\"># 确保找到标题</span></span><br><span class=\"line\">                    title = title.text.strip()</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    title = <span class=\"string\">&quot;未知电影&quot;</span></span><br><span class=\"line\">                </span><br><span class=\"line\">                rating = movie.find(<span class=\"string\">&#x27;span&#x27;</span>, class_=<span class=\"string\">&#x27;rating_num&#x27;</span>)</span><br><span class=\"line\">                <span class=\"keyword\">if</span> rating:  <span class=\"comment\"># 确保找到评分</span></span><br><span class=\"line\">                    rating = rating.text.strip()</span><br><span class=\"line\">                <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                    rating = <span class=\"string\">&quot;暂无评分&quot;</span></span><br><span class=\"line\">                </span><br><span class=\"line\">                quote_elem = movie.find(<span class=\"string\">&#x27;span&#x27;</span>, class_=<span class=\"string\">&#x27;inq&#x27;</span>)</span><br><span class=\"line\">                quote = quote_elem.text.strip() <span class=\"keyword\">if</span> quote_elem <span class=\"keyword\">else</span> <span class=\"string\">&quot;无简介&quot;</span></span><br><span class=\"line\">                </span><br><span class=\"line\">                all_content.append(<span class=\"string\">f&quot;电影名称: <span class=\"subst\">&#123;title&#125;</span>\\n评分: <span class=\"subst\">&#123;rating&#125;</span>\\n简介: <span class=\"subst\">&#123;quote&#125;</span>\\n&quot;</span>)</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">if</span> all_content:</span><br><span class=\"line\">        <span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(output_file, <span class=\"string\">&#x27;w&#x27;</span>, encoding=<span class=\"string\">&#x27;utf-8&#x27;</span>) <span class=\"keyword\">as</span> f:</span><br><span class=\"line\">            f.write(<span class=\"string\">&quot;\\n&quot;</span>.join(all_content))</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">f&quot;✅ 数据已保存到 <span class=\"subst\">&#123;output_file&#125;</span>&quot;</span>)</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        <span class=\"built_in\">print</span>(<span class=\"string\">&quot;❌ 未能获取数据，请检查网络或网页结构！&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    scrape_douban_top250(<span class=\"string\">&quot;douban_top250.txt&quot;</span>)</span><br></pre></td></tr></table></figure></p>\n<p>正则提取部分<br><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> csv</span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"comment\"># 实战梳理豆瓣网页数据</span></span><br><span class=\"line\"><span class=\"keyword\">with</span> <span class=\"built_in\">open</span> (<span class=\"string\">&#x27;douban_top250.txt&#x27;</span>,<span class=\"string\">&#x27;r&#x27;</span>,encoding=<span class=\"string\">&#x27;utf-8&#x27;</span>) <span class=\"keyword\">as</span> file:</span><br><span class=\"line\">    content = file.read()</span><br><span class=\"line\">    <span class=\"comment\"># print(content)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将爬取的数据保存到csv中</span></span><br><span class=\"line\">name = re.findall(<span class=\"string\">r&#x27;(?&lt;=\\u7535\\u5f71\\u540d\\u79f0:\\s).&#123;1,&#125;$&#x27;</span>,content,re.M)</span><br><span class=\"line\"></span><br><span class=\"line\">rank = re.findall(<span class=\"string\">r&#x27;\\d.\\d$&#x27;</span>,content,re.M)</span><br><span class=\"line\"></span><br><span class=\"line\">rows = <span class=\"built_in\">list</span>(<span class=\"built_in\">zip</span>(name, rank))</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 将name rank放在csv中</span></span><br><span class=\"line\"><span class=\"comment\"># print(name,rank)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">with</span> <span class=\"built_in\">open</span>(<span class=\"string\">&#x27;cleaned_movies.csv&#x27;</span>, <span class=\"string\">&#x27;w&#x27;</span>, newline=<span class=\"string\">&#x27;&#x27;</span>, encoding=<span class=\"string\">&#x27;utf-8-sig&#x27;</span>) <span class=\"keyword\">as</span> fil:</span><br><span class=\"line\">    writer = csv.writer(fil)</span><br><span class=\"line\">    writer.writerow([<span class=\"string\">&#x27;电影名&#x27;</span>, <span class=\"string\">&#x27;评分&#x27;</span>])   <span class=\"comment\"># 写表头</span></span><br><span class=\"line\">    writer.writerows(rows)  </span><br></pre></td></tr></table></figure></p>\n","isPage":false,"isDraft":false,"permalink":"http://example.com/2025/08/25/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/"},{"title":"计算化学导论学习笔记","content":"<p>记录阅读 Introduction to Computational Chemistry 的一些笔记</p>\n<span id=\"more\"></span>\n<h1 id=\"正文开始\"><a href=\"#正文开始\" class=\"headerlink\" title=\"正文开始\"></a>正文开始</h1><p>11112222</p>\n","isPage":false,"isDraft":false,"permalink":"http://example.com/2025/06/25/%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6%E5%AF%BC%E8%AE%BA%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"title":"","content":"<p class='p logo center huge'>404</p>\n<p class='p center bold'>很抱歉，您访问的页面不存在</p>\n<p class='p center small'>可能是输入地址有误或该地址已被删除</p>","isPage":true,"isDraft":false,"permalink":"http://example.com/404.html"},{"title":"friends","content":"","isPage":true,"isDraft":false,"permalink":"http://example.com/friends/index.html"},{"title":"","content":"<h1 id=\"关于这个博客\"><a href=\"#关于这个博客\" class=\"headerlink\" title=\"关于这个博客\"></a>关于这个博客</h1><h2 id=\"知识分享-·-思想杂谈-·-生活记录\"><a href=\"#知识分享-·-思想杂谈-·-生活记录\" class=\"headerlink\" title=\"知识分享 · 思想杂谈 · 生活记录\"></a>知识分享 · 思想杂谈 · 生活记录</h2><p>欢迎来到我的小天地！这里是我分享知识与思考的角落。</p>\n<h3 id=\"为什么创建这个博客？\"><a href=\"#为什么创建这个博客？\" class=\"headerlink\" title=\"为什么创建这个博客？\"></a>为什么创建这个博客？</h3><p>我建立这个空间的初衷是：</p>\n<ul>\n<li>📚 <strong>分享</strong>：将专业知识整理成易于理解的内容</li>\n<li>💡 <strong>思维</strong>：记录日常思考与感悟</li>\n<li>🌱 <strong>成长</strong>：标记个人学习的轨迹</li>\n</ul>\n<h3 id=\"你会在这里找到什么？\"><a href=\"#你会在这里找到什么？\" class=\"headerlink\" title=\"你会在这里找到什么？\"></a>你会在这里找到什么？</h3><h4 id=\"知识分享\"><a href=\"#知识分享\" class=\"headerlink\" title=\"知识分享\"></a>知识分享</h4><ul>\n<li>化学学习</li>\n<li>计算机学习</li>\n<li>读书笔记</li>\n</ul>\n<h4 id=\"生活杂谈\"><a href=\"#生活杂谈\" class=\"headerlink\" title=\"生活杂谈\"></a>生活杂谈</h4><ul>\n<li>随笔札记</li>\n<li>观点讨论</li>\n<li>旅行见闻</li>\n</ul>\n<h3 id=\"关于我\"><a href=\"#关于我\" class=\"headerlink\" title=\"关于我\"></a>关于我</h3><p>上海化学大二在读 有无大佬捞捞 ┭┮﹏┭┮</p>\n<p>白天是[实验室🐂🐎]，夜晚是好奇的探索者。</p>\n","isPage":true,"isDraft":false,"permalink":"http://example.com/about/index.html"},{"title":"分类","content":"","isPage":true,"isDraft":false,"permalink":"http://example.com/categories/index.html"},{"title":"","content":"","isPage":true,"isDraft":false,"permalink":"http://example.com/mylist/index.html"},{"title":"标签","content":"","isPage":true,"isDraft":false,"permalink":"http://example.com/tags/index.html"}]